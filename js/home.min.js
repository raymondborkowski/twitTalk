function splitObjMedia(t,e,a){for(var s=[],r=[],i=0;e>i;i++)a?t[i].entities.hasOwnProperty("media")?s.push([t[i].user.screen_name,t[i].text,t[i].entities.media[0].media_url_https]):r.push([t[i].user.screen_name,t[i].text]):t.statuses[i].entities.hasOwnProperty("media")?s.push([t.statuses[i].user.screen_name,t.statuses[i].text,t.statuses[i].entities.media[0].media_url_https]):r.push([t.statuses[i].user.screen_name,t.statuses[i].text]);return{mediaArr:s,textArr:r}}function splitArray(t,e){for(var a=[],s=0;e>s;s++)a.push(t[s]),t.shift();return a}function displayMedia(t,e,a,s,r,i,n,l){s=callbackGetData()[l];var u=t-1;document.getElementById(e).innerHTML="@"+s[0][0]+":</br>"+s[0][1],r&&(document.getElementById(a).style.backgroundImage="url('"+s[0][2]+"')");for(var d=1;d<s.length;d++)!function(d){setTimeout(function(){if(document.getElementById(e).innerHTML="@"+s[d][0]+":</br>"+s[d][1],r&&(document.getElementById(a).style.backgroundImage="url('"+s[d][2]+"')"),d==u){callbackGetData();displayMedia(t,e,a,s,r,i,n,l)}},i+n*d)}(d)}function getData(t){var e=null;return $.ajax({async:!1,global:!1,url:"data/twitter_result"+t+".json",dataType:"json",success:function(t){e=t.twitter_result}}),e}function callbackGetData(){var t=getData("K"),e=getData("Kate"),a=getData("J"),s=getData("Jack"),r=splitObjMedia(t,t.statuses.length,!1).mediaArr,i=splitObjMedia(t,t.statuses.length,!1).textArr,n=splitObjMedia(e,e.statuses.length,!1).mediaArr,l=splitObjMedia(e,e.statuses.length,!1).textArr,u=splitObjMedia(s,s.length,!0).mediaArr,d=splitObjMedia(s,s.length,!0).textArr,o=Math.floor(r.length/3),h=Math.floor(l.length/6),p=Math.floor(d.length/3),c=Math.floor(u.length/2),g={otherText1:splitArray(i,Math.floor(i.length/2)),otherText2:i,otherMedia1:splitArray(r,o),otherMedia2:splitArray(r,o),otherMedia3:r,ksText1:splitArray(l,h),ksText2:splitArray(l,h),ksText3:splitArray(l,h),ksText4:splitArray(l,h),ksText5:splitArray(l,h),ksText6:l,ksMedia:n,jsText1:splitArray(d,p),jsText2:splitArray(d,p),jsText3:d,jsMedia:splitArray(u,c),jsMedia1:u,onlyMediaJ:splitObjMedia(a,a.statuses.length,!1).mediaArr,onlyTextJ:splitObjMedia(a,a.statuses.length,!1).textArr};return g}